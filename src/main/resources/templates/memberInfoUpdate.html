<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <script th:inline="javascript">
        var orignphoneNum=[[${memberInfo.phone}]];
        var memberJoinType =[[${memberInfo.memberJoinType}]];
    </script>
    <script type="text/javascript" src="../js/memberInfoUpdate.js"></script>
    <title>회원정보 수정 | Bookshelf</title>
</head>
<body>

<div class="meta-wrapper">
    <div class="inner-wrapper">
        <div class="contents" th:object="${memberInfo}">
            <div>
                <div >프로필 이미지</div>
                <div th:style="'background-image:url('+${memberInfo.getMemberprofile()}+'); width:300px; height:300px'" class="memberProfile"></div>
                <form action="/memberInfo/profile" method="post" enctype="multipart/form-data" class="profile" name="profile">
                    <input type="file" class="multipartFile" name="multipartFile">
                    <button type="button" class="changeProfile" onclick="changeProfile()">변경</button>
                    <button type="button" class="changeBasic" onclick="changeBasic()">기본으로</button>
                </form>
            </div>
            <div>
                <div>전화번호</div>
                <div class="phoneNum" th:text="*{phone}" th:value="*{phone}" name="phoneNum">01011123333</div>
                <button class="phone-window" type="button" onclick="popup1()" name="phone-window">변경</button>
                    <div class="form-group phonePart" style="display: none;">
                        <label>전화번호</label>
                        <div class="warring" style="color: red"></div>
                        <input name="phone" class="phone" type="number" placeholder="변경할 전화번호를 입력해주세요">
                        <img class="clear-btn left-move" src="/img/icon/x-circle-fill.svg">
                        <div class="vertical-line"></div>
                        <button type="button" onclick="checkPhoneNumber()" class="code-send">인증번호 발송</button>
                        <div class="timer">03:00</div>
                        <div class="verify form-group">
                            <label>인증번호</label>
                            <div class="hidenNumber" name="hidenNumber" value=""></div>
                            <input class="code" type="text" placeholder="인증번호 입력">
                            <img class="clear-btn left-move" src="/img/icon/x-circle-fill.svg">
                            <div class="vertical-line"></div>
                            <button type="button" class="code-check" onclick="checkMessageNumber()" name="code-check">확인</button>
                        </div>
                        <button type="button" class="cancel">취소</button>
                    </div>
                </div>

                <div>
                    <div>비밀번호</div>
                    <div class="phoneNum" name="phoneNum">***********</div>
                    <button class="password-window" type="button" onclick="popup2()" name="password-window">변경</button>
                    <div class="passwordPart" style="display: none">
                        <div class="form-password">
                            <label>새비밀번호</label>
                            <span class="pw-info">영문, 숫자, 특수문자 8~14글자</span>
                            <input name="pw" class="pw" type="password" placeholder="비밀번호 입력">
                            <img class="view" src="/img/icon/ico_eye@2x.png">
                            <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                        </div>
                        <div class="form-password">
                            <label>새비밀번호 확인</label>
                            <input class="pw-check" type="password" placeholder="비밀번호 재입력">
                            <img class="view" src="/img/icon/ico_eye@2x.png">
                            <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                        </div>
                        <button class="chagePassword" onclick="changePassword()" disabled>변경하기</button>
                    </div>
                </div>

                <div class="form-group">
                    <label>이메일</label>
                    <div class="memberJoinType-warring" style="color: red;display: none">BookShelf 회원계정만 가능합니다</div>
                    <div class="email" name="email"th:text="*{email}" >email</div>
                    <button class="email-window" type="button" onclick="popup3()" name="email-window">변경</button>
                    <div  class="emailPart" style="display: none">
                        <input  class="newEmail" type="text" placeholder="이메일 입력" spellcheck="false">
                    <button class="changeEmail" onclick="memberEmailChange()">확인</button>
                    </div>
                </div>

                <div class="namePart">
                    <div class="form-group">
                        <label>닉네임</label>
                        <input name="nickname" class="nickName" type="text" th:value="*{nickName}" placeholder="닉네임 입력" spellcheck="false">
                        <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                    </div>
                    <div class="form-group">
                        <label>이름</label>
                        <input name="name" class="name" type="text" th:value="*{name}" placeholder="이름 입력" spellcheck="false">
                        <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                    </div>
                    <button type="button" onclick="changeNames()">변경</button>
                </div>
            <div class="addressPart">
                <div class="form-group zipcode-wrapper">
                        <label>우편번호</label>
                        <input name="zipcode" class="zipcode" type="text" th:value="*{postNum}" placeholder="우편번호 입력">
                        <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                    </div>

                    <div class="form-group city-wrapper">
                        <label>주소</label>
                        <input name="city" class="city" type="text" th:value="*{city}" placeholder="주소 입력">
                        <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                    </div>

                    <div class="form-group">
                        <label>상세주소</label>
                        <input name="street" class="street" type="text" th:value="*{street}" placeholder="상세주소 입력">
                        <img class="clear-btn" src="/img/icon/x-circle-fill.svg">
                    </div>
                <button type="button" onclick="changeAddress()">변경</button>
            </div>
        </div>
        <button class="deleteMember" onclick="deleteMember()">회원탈퇴</button>
    </div>
</div>

</body>
</html>